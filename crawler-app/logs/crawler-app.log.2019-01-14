[INFO] [2019-01-14 22:28:19][org.springframework.boot.test.context.SpringBootTestContextBootstrapper]Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest], using SpringBootContextLoader
[INFO] [2019-01-14 22:28:19][org.springframework.test.context.support.AbstractContextLoader]Could not detect default resource locations for test class [com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO] [2019-01-14 22:28:19][org.springframework.test.context.support.AnnotationConfigContextLoaderUtils]Could not detect default configuration classes for test class [com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest]: ZimuzuServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO] [2019-01-14 22:28:19][org.springframework.boot.test.context.SpringBootTestContextBootstrapper]Found @SpringBootConfiguration com.devchen.crawler.CrawlerApplication for test class com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest
[INFO] [2019-01-14 22:28:19][org.springframework.boot.test.context.SpringBootTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2019-01-14 22:28:19][org.springframework.boot.test.context.SpringBootTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@29ba4338, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@57175e74, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7bb58ca3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@c540f5a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@770c2e6b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a052a00, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4d826d77, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61009542, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77e9807f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@448ff1a8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1a38c59b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7f77e91b]
[INFO] [2019-01-14 22:28:20][org.springframework.context.annotation.AnnotationConfigApplicationContext]Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@434a63ab: startup date [Mon Jan 14 22:28:20 CST 2019]; root of context hierarchy
[INFO] [2019-01-14 22:28:21][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor]JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
[INFO] [2019-01-14 22:28:21][org.hibernate.validator.internal.util.Version]HV000001: Hibernate Validator 5.3.6.Final
[INFO] [2019-01-14 22:28:21][org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker]Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e63d7b64] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO] [2019-01-14 22:28:22][org.springframework.cloud.config.client.ConfigServicePropertySourceLocator]Fetching config from server at: http://localhost:8888
[WARN] [2019-01-14 22:28:22][org.springframework.cloud.config.client.ConfigServicePropertySourceLocator]Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/crawler-app/default": 拒绝连接 (Connection refused); nested exception is java.net.ConnectException: 拒绝连接 (Connection refused)
[INFO] [2019-01-14 22:28:22][com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest]No active profile set, falling back to default profiles: default
[INFO] [2019-01-14 22:28:22][org.springframework.web.context.support.GenericWebApplicationContext]Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3bde62ff: startup date [Mon Jan 14 22:28:22 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@434a63ab
[WARN] [2019-01-14 22:28:24][org.mybatis.spring.mapper.ClassPathMapperScanner]No MyBatis mapper was found in '[com.devchen.crawler]' package. Please check your configuration.
[INFO] [2019-01-14 22:28:25][org.springframework.cloud.context.scope.GenericScope]BeanFactory id=bec9f146-e490-32fc-9746-de96a071ce57
[INFO] [2019-01-14 22:28:25][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor]JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
[INFO] [2019-01-14 22:28:25][org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker]Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e63d7b64] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO] [2019-01-14 22:28:25][org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker]Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ca237867] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO] [2019-01-14 22:28:26][org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler]Initializing ExecutorService  'taskScheduler'
[INFO] [2019-01-14 22:28:27][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3bde62ff: startup date [Mon Jan 14 22:28:22 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@434a63ab
[INFO] [2019-01-14 22:28:27][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[INFO] [2019-01-14 22:28:27][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[INFO] [2019-01-14 22:28:28][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[INFO] [2019-01-14 22:28:28][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[INFO] [2019-01-14 22:28:28][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[WARN] [2019-01-14 22:28:29][com.netflix.config.sources.URLConfigurationSource]No URLs will be polled as dynamic configuration sources.
[INFO] [2019-01-14 22:28:29][com.netflix.config.sources.URLConfigurationSource]To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
[WARN] [2019-01-14 22:28:29][com.netflix.config.sources.URLConfigurationSource]No URLs will be polled as dynamic configuration sources.
[INFO] [2019-01-14 22:28:29][com.netflix.config.sources.URLConfigurationSource]To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
[INFO] [2019-01-14 22:28:29][org.springframework.context.support.DefaultLifecycleProcessor]Starting beans in phase 0
[INFO] [2019-01-14 22:28:29][org.springframework.context.support.DefaultLifecycleProcessor]Starting beans in phase 2147483647
[INFO] [2019-01-14 22:28:29][com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest]Started ZimuzuServiceTest in 9.681 seconds (JVM running for 12.103)
[INFO] [2019-01-14 22:28:29][com.devchen.crawler.zimuzu.service.ZimuzuService]start fetch fav list
[INFO] [2019-01-14 22:28:30][com.devchen.crawler.zimuzu.service.ZimuzuService]<head><title>文档已移动</title></head>
[INFO] [2019-01-14 22:28:30][com.devchen.crawler.zimuzu.service.ZimuzuService]<body><h1>对象已移动</h1>可在<a HREF="http://www.zimuzu.io/User/Login/ajaxLogin">此处</a>找到该文档</body>
[INFO] [2019-01-14 22:28:30][com.devchen.crawler.zimuzu.service.ZimuzuService]fetch list: 0
[ERROR] [2019-01-14 22:28:30][com.devchen.crawler.zimuzu.service.ZimuzuService]fetch fav list error
org.springframework.messaging.MessagingException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Error while attempting to add new Connection to the pool; nested exception is javax.jms.JMSException: Could not connect to broker URL: tcp://127.0.0.1:61616. Reason: java.net.ConnectException: 拒绝连接 (Connection refused); nested exception is org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Error while attempting to add new Connection to the pool; nested exception is javax.jms.JMSException: Could not connect to broker URL: tcp://127.0.0.1:61616. Reason: java.net.ConnectException: 拒绝连接 (Connection refused)
	at org.springframework.jms.core.JmsMessagingTemplate.convertJmsException(JmsMessagingTemplate.java:426)
	at org.springframework.jms.core.JmsMessagingTemplate.doSend(JmsMessagingTemplate.java:335)
	at org.springframework.jms.core.JmsMessagingTemplate.doSend(JmsMessagingTemplate.java:46)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:105)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:143)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:123)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:118)
	at com.devchen.crawler.service.MqService.sendMsgToNoticeMsgQueue(MqService.java:59)
	at com.devchen.crawler.zimuzu.service.ZimuzuService.fetchFavList(ZimuzuService.java:69)
	at com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest.test(ZimuzuServiceTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Error while attempting to add new Connection to the pool; nested exception is javax.jms.JMSException: Could not connect to broker URL: tcp://127.0.0.1:61616. Reason: java.net.ConnectException: 拒绝连接 (Connection refused)
	at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:316)
	at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:169)
	at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:487)
	at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:559)
	at org.springframework.jms.core.JmsMessagingTemplate.doSend(JmsMessagingTemplate.java:332)
	... 36 more
Caused by: javax.jms.JMSException: Error while attempting to add new Connection to the pool
	at org.apache.activemq.jms.pool.PooledConnectionFactory.createJmsException(PooledConnectionFactory.java:266)
	at org.apache.activemq.jms.pool.PooledConnectionFactory.createConnection(PooledConnectionFactory.java:225)
	at org.apache.activemq.jms.pool.PooledConnectionFactory.createConnection(PooledConnectionFactory.java:204)
	at org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:180)
	at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:474)
	... 38 more
Caused by: javax.jms.JMSException: Could not connect to broker URL: tcp://127.0.0.1:61616. Reason: java.net.ConnectException: 拒绝连接 (Connection refused)
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:36)
	at org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:374)
	at org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:304)
	at org.apache.activemq.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:244)
	at org.apache.activemq.jms.pool.PooledConnectionFactory.createConnection(PooledConnectionFactory.java:275)
	at org.apache.activemq.jms.pool.PooledConnectionFactory$1.makeObject(PooledConnectionFactory.java:95)
	at org.apache.activemq.jms.pool.PooledConnectionFactory$1.makeObject(PooledConnectionFactory.java:92)
	at org.apache.commons.pool2.impl.GenericKeyedObjectPool.create(GenericKeyedObjectPool.java:1064)
	at org.apache.commons.pool2.impl.GenericKeyedObjectPool.addObject(GenericKeyedObjectPool.java:1254)
	at org.apache.activemq.jms.pool.PooledConnectionFactory.createConnection(PooledConnectionFactory.java:221)
	... 41 more
Caused by: java.net.ConnectException: 拒绝连接 (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.activemq.transport.tcp.TcpTransport.connect(TcpTransport.java:525)
	at org.apache.activemq.transport.tcp.TcpTransport.doStart(TcpTransport.java:488)
	at org.apache.activemq.util.ServiceSupport.start(ServiceSupport.java:55)
	at org.apache.activemq.transport.AbstractInactivityMonitor.start(AbstractInactivityMonitor.java:169)
	at org.apache.activemq.transport.InactivityMonitor.start(InactivityMonitor.java:52)
	at org.apache.activemq.transport.TransportFilter.start(TransportFilter.java:64)
	at org.apache.activemq.transport.WireFormatNegotiator.start(WireFormatNegotiator.java:72)
	at org.apache.activemq.transport.TransportFilter.start(TransportFilter.java:64)
	at org.apache.activemq.transport.TransportFilter.start(TransportFilter.java:64)
	at org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:354)
	... 49 more
[INFO] [2019-01-14 22:28:30][com.devchen.crawler.zimuzu.service.ZimuzuService]end fetch fav list
[INFO] [2019-01-14 22:28:30][org.springframework.web.context.support.GenericWebApplicationContext]Closing org.springframework.web.context.support.GenericWebApplicationContext@3bde62ff: startup date [Mon Jan 14 22:28:22 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@434a63ab
[INFO] [2019-01-14 22:28:30][org.springframework.cloud.netflix.eureka.InstanceInfoFactory]Setting initial instance status as: STARTING
[INFO] [2019-01-14 22:28:30][org.springframework.cloud.netflix.eureka.EurekaDiscoveryClientConfiguration]Unregistering application crawler-app with eureka with status DOWN
[INFO] [2019-01-14 22:28:31][com.netflix.discovery.provider.DiscoveryJerseyProvider]Using JSON encoding codec LegacyJacksonJson
[INFO] [2019-01-14 22:28:31][com.netflix.discovery.provider.DiscoveryJerseyProvider]Using JSON decoding codec LegacyJacksonJson
[INFO] [2019-01-14 22:28:31][com.netflix.discovery.provider.DiscoveryJerseyProvider]Using XML encoding codec XStreamXml
[INFO] [2019-01-14 22:28:31][com.netflix.discovery.provider.DiscoveryJerseyProvider]Using XML decoding codec XStreamXml
[INFO] [2019-01-14 22:28:31][com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver]Resolving eureka endpoints via configuration
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]Disable delta property : false
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]Single vip registry refresh property : null
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]Force full registry fetch : false
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]Application is null : false
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]Registered Applications size is zero : true
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]Application version is -1: true
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]Getting all instance registry info from the eureka server
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]The response status is 200
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]Starting heartbeat executor: renew interval is: 30
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.InstanceInfoReplicator]InstanceInfoReplicator onDemand update allowed rate per min is 4
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]Discovery Client initialized at timestamp 1547476112374 with initial instances count: 2
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]Shutting down DiscoveryClient ...
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]Unregistering ...
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]DiscoveryClient_CRAWLER-APP/10.0.2.15:crawler-app:-1 - deregister  status: 404
[INFO] [2019-01-14 22:28:32][com.netflix.discovery.DiscoveryClient]Completed shut down of DiscoveryClient
[INFO] [2019-01-14 22:28:32][org.springframework.context.support.DefaultLifecycleProcessor]Stopping beans in phase 2147483647
[INFO] [2019-01-14 22:28:32][org.springframework.context.support.DefaultLifecycleProcessor]Stopping beans in phase 0
[INFO] [2019-01-14 22:28:32][org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler]Shutting down ExecutorService 'taskScheduler'
[INFO] [2019-01-14 22:28:32][org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler]Shutting down ExecutorService 'taskScheduler'
[INFO] [2019-01-14 22:29:47][org.springframework.boot.test.context.SpringBootTestContextBootstrapper]Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest], using SpringBootContextLoader
[INFO] [2019-01-14 22:29:47][org.springframework.test.context.support.AbstractContextLoader]Could not detect default resource locations for test class [com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO] [2019-01-14 22:29:47][org.springframework.test.context.support.AnnotationConfigContextLoaderUtils]Could not detect default configuration classes for test class [com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest]: ZimuzuServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO] [2019-01-14 22:29:48][org.springframework.boot.test.context.SpringBootTestContextBootstrapper]Found @SpringBootConfiguration com.devchen.crawler.CrawlerApplication for test class com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest
[INFO] [2019-01-14 22:29:48][org.springframework.boot.test.context.SpringBootTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2019-01-14 22:29:48][org.springframework.boot.test.context.SpringBootTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@29ba4338, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@57175e74, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7bb58ca3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@c540f5a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@770c2e6b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a052a00, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4d826d77, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61009542, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77e9807f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@448ff1a8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1a38c59b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7f77e91b]
[INFO] [2019-01-14 22:29:49][org.springframework.context.annotation.AnnotationConfigApplicationContext]Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@434a63ab: startup date [Mon Jan 14 22:29:49 CST 2019]; root of context hierarchy
[INFO] [2019-01-14 22:29:49][org.hibernate.validator.internal.util.Version]HV000001: Hibernate Validator 5.3.6.Final
[INFO] [2019-01-14 22:29:49][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor]JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
[INFO] [2019-01-14 22:29:50][org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker]Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e63d7b64] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO] [2019-01-14 22:29:51][org.springframework.cloud.config.client.ConfigServicePropertySourceLocator]Fetching config from server at: http://localhost:8888
[WARN] [2019-01-14 22:29:51][org.springframework.cloud.config.client.ConfigServicePropertySourceLocator]Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/crawler-app/default": 拒绝连接 (Connection refused); nested exception is java.net.ConnectException: 拒绝连接 (Connection refused)
[INFO] [2019-01-14 22:29:51][com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest]No active profile set, falling back to default profiles: default
[INFO] [2019-01-14 22:29:51][org.springframework.web.context.support.GenericWebApplicationContext]Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3bde62ff: startup date [Mon Jan 14 22:29:51 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@434a63ab
[WARN] [2019-01-14 22:29:53][org.mybatis.spring.mapper.ClassPathMapperScanner]No MyBatis mapper was found in '[com.devchen.crawler]' package. Please check your configuration.
[INFO] [2019-01-14 22:29:54][org.springframework.cloud.context.scope.GenericScope]BeanFactory id=bec9f146-e490-32fc-9746-de96a071ce57
[INFO] [2019-01-14 22:29:54][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor]JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
[INFO] [2019-01-14 22:29:54][org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker]Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e63d7b64] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO] [2019-01-14 22:29:54][org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker]Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ca237867] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO] [2019-01-14 22:29:55][org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler]Initializing ExecutorService  'taskScheduler'
[INFO] [2019-01-14 22:29:57][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3bde62ff: startup date [Mon Jan 14 22:29:51 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@434a63ab
[INFO] [2019-01-14 22:29:57][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[INFO] [2019-01-14 22:29:57][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[INFO] [2019-01-14 22:29:57][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[INFO] [2019-01-14 22:29:57][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[INFO] [2019-01-14 22:29:57][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[WARN] [2019-01-14 22:29:59][com.netflix.config.sources.URLConfigurationSource]No URLs will be polled as dynamic configuration sources.
[INFO] [2019-01-14 22:29:59][com.netflix.config.sources.URLConfigurationSource]To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
[WARN] [2019-01-14 22:29:59][com.netflix.config.sources.URLConfigurationSource]No URLs will be polled as dynamic configuration sources.
[INFO] [2019-01-14 22:29:59][com.netflix.config.sources.URLConfigurationSource]To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
[INFO] [2019-01-14 22:29:59][org.springframework.context.support.DefaultLifecycleProcessor]Starting beans in phase 0
[INFO] [2019-01-14 22:29:59][org.springframework.context.support.DefaultLifecycleProcessor]Starting beans in phase 2147483647
[INFO] [2019-01-14 22:30:00][com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest]Started ZimuzuServiceTest in 11.799 seconds (JVM running for 13.442)
[INFO] [2019-01-14 22:30:00][com.devchen.crawler.zimuzu.service.ZimuzuService]start fetch fav list
[INFO] [2019-01-14 22:30:00][com.devchen.crawler.zimuzu.service.ZimuzuService]{"status":1,"info":"\u767b\u5f55\u6210\u529f\uff01","data":{"url_back":"http:\/\/www.zimuzu.io\/"}}
[INFO] [2019-01-14 22:30:01][com.devchen.crawler.zimuzu.service.ZimuzuService]fetch list: 38
[ERROR] [2019-01-14 22:30:01][com.devchen.crawler.zimuzu.service.ZimuzuService]fetch fav list error
org.springframework.messaging.MessagingException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Error while attempting to add new Connection to the pool; nested exception is javax.jms.JMSException: Could not connect to broker URL: tcp://127.0.0.1:61616. Reason: java.net.ConnectException: 拒绝连接 (Connection refused); nested exception is org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Error while attempting to add new Connection to the pool; nested exception is javax.jms.JMSException: Could not connect to broker URL: tcp://127.0.0.1:61616. Reason: java.net.ConnectException: 拒绝连接 (Connection refused)
	at org.springframework.jms.core.JmsMessagingTemplate.convertJmsException(JmsMessagingTemplate.java:426)
	at org.springframework.jms.core.JmsMessagingTemplate.doSend(JmsMessagingTemplate.java:335)
	at org.springframework.jms.core.JmsMessagingTemplate.doSend(JmsMessagingTemplate.java:46)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:105)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:143)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:123)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:118)
	at com.devchen.crawler.service.MqService.sendMsgToNoticeMsgQueue(MqService.java:59)
	at com.devchen.crawler.zimuzu.service.ZimuzuService.fetchFavList(ZimuzuService.java:69)
	at com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest.test(ZimuzuServiceTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Error while attempting to add new Connection to the pool; nested exception is javax.jms.JMSException: Could not connect to broker URL: tcp://127.0.0.1:61616. Reason: java.net.ConnectException: 拒绝连接 (Connection refused)
	at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:316)
	at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:169)
	at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:487)
	at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:559)
	at org.springframework.jms.core.JmsMessagingTemplate.doSend(JmsMessagingTemplate.java:332)
	... 36 more
Caused by: javax.jms.JMSException: Error while attempting to add new Connection to the pool
	at org.apache.activemq.jms.pool.PooledConnectionFactory.createJmsException(PooledConnectionFactory.java:266)
	at org.apache.activemq.jms.pool.PooledConnectionFactory.createConnection(PooledConnectionFactory.java:225)
	at org.apache.activemq.jms.pool.PooledConnectionFactory.createConnection(PooledConnectionFactory.java:204)
	at org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:180)
	at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:474)
	... 38 more
Caused by: javax.jms.JMSException: Could not connect to broker URL: tcp://127.0.0.1:61616. Reason: java.net.ConnectException: 拒绝连接 (Connection refused)
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:36)
	at org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:374)
	at org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:304)
	at org.apache.activemq.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:244)
	at org.apache.activemq.jms.pool.PooledConnectionFactory.createConnection(PooledConnectionFactory.java:275)
	at org.apache.activemq.jms.pool.PooledConnectionFactory$1.makeObject(PooledConnectionFactory.java:95)
	at org.apache.activemq.jms.pool.PooledConnectionFactory$1.makeObject(PooledConnectionFactory.java:92)
	at org.apache.commons.pool2.impl.GenericKeyedObjectPool.create(GenericKeyedObjectPool.java:1064)
	at org.apache.commons.pool2.impl.GenericKeyedObjectPool.addObject(GenericKeyedObjectPool.java:1254)
	at org.apache.activemq.jms.pool.PooledConnectionFactory.createConnection(PooledConnectionFactory.java:221)
	... 41 more
Caused by: java.net.ConnectException: 拒绝连接 (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.activemq.transport.tcp.TcpTransport.connect(TcpTransport.java:525)
	at org.apache.activemq.transport.tcp.TcpTransport.doStart(TcpTransport.java:488)
	at org.apache.activemq.util.ServiceSupport.start(ServiceSupport.java:55)
	at org.apache.activemq.transport.AbstractInactivityMonitor.start(AbstractInactivityMonitor.java:169)
	at org.apache.activemq.transport.InactivityMonitor.start(InactivityMonitor.java:52)
	at org.apache.activemq.transport.TransportFilter.start(TransportFilter.java:64)
	at org.apache.activemq.transport.WireFormatNegotiator.start(WireFormatNegotiator.java:72)
	at org.apache.activemq.transport.TransportFilter.start(TransportFilter.java:64)
	at org.apache.activemq.transport.TransportFilter.start(TransportFilter.java:64)
	at org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:354)
	... 49 more
[INFO] [2019-01-14 22:30:01][com.devchen.crawler.zimuzu.service.ZimuzuService]end fetch fav list
[INFO] [2019-01-14 22:30:01][org.springframework.web.context.support.GenericWebApplicationContext]Closing org.springframework.web.context.support.GenericWebApplicationContext@3bde62ff: startup date [Mon Jan 14 22:29:51 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@434a63ab
[INFO] [2019-01-14 22:30:01][org.springframework.cloud.netflix.eureka.InstanceInfoFactory]Setting initial instance status as: STARTING
[INFO] [2019-01-14 22:30:01][org.springframework.cloud.netflix.eureka.EurekaDiscoveryClientConfiguration]Unregistering application crawler-app with eureka with status DOWN
[INFO] [2019-01-14 22:30:02][com.netflix.discovery.provider.DiscoveryJerseyProvider]Using JSON encoding codec LegacyJacksonJson
[INFO] [2019-01-14 22:30:02][com.netflix.discovery.provider.DiscoveryJerseyProvider]Using JSON decoding codec LegacyJacksonJson
[INFO] [2019-01-14 22:30:02][com.netflix.discovery.provider.DiscoveryJerseyProvider]Using XML encoding codec XStreamXml
[INFO] [2019-01-14 22:30:02][com.netflix.discovery.provider.DiscoveryJerseyProvider]Using XML decoding codec XStreamXml
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver]Resolving eureka endpoints via configuration
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.DiscoveryClient]Disable delta property : false
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.DiscoveryClient]Single vip registry refresh property : null
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.DiscoveryClient]Force full registry fetch : false
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.DiscoveryClient]Application is null : false
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.DiscoveryClient]Registered Applications size is zero : true
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.DiscoveryClient]Application version is -1: true
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.DiscoveryClient]Getting all instance registry info from the eureka server
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.DiscoveryClient]The response status is 200
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.DiscoveryClient]Starting heartbeat executor: renew interval is: 30
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.InstanceInfoReplicator]InstanceInfoReplicator onDemand update allowed rate per min is 4
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.DiscoveryClient]Discovery Client initialized at timestamp 1547476203844 with initial instances count: 2
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.DiscoveryClient]Shutting down DiscoveryClient ...
[INFO] [2019-01-14 22:30:03][com.netflix.discovery.DiscoveryClient]Unregistering ...
[INFO] [2019-01-14 22:30:04][com.netflix.discovery.DiscoveryClient]DiscoveryClient_CRAWLER-APP/10.0.2.15:crawler-app:-1 - deregister  status: 404
[INFO] [2019-01-14 22:30:04][com.netflix.discovery.DiscoveryClient]Completed shut down of DiscoveryClient
[INFO] [2019-01-14 22:30:04][org.springframework.context.support.DefaultLifecycleProcessor]Stopping beans in phase 2147483647
[INFO] [2019-01-14 22:30:04][org.springframework.context.support.DefaultLifecycleProcessor]Stopping beans in phase 0
[INFO] [2019-01-14 22:30:04][org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler]Shutting down ExecutorService 'taskScheduler'
[INFO] [2019-01-14 22:30:04][org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler]Shutting down ExecutorService 'taskScheduler'
[INFO] [2019-01-14 22:30:58][org.springframework.boot.test.context.SpringBootTestContextBootstrapper]Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest], using SpringBootContextLoader
[INFO] [2019-01-14 22:30:58][org.springframework.test.context.support.AbstractContextLoader]Could not detect default resource locations for test class [com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO] [2019-01-14 22:30:58][org.springframework.test.context.support.AnnotationConfigContextLoaderUtils]Could not detect default configuration classes for test class [com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest]: ZimuzuServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO] [2019-01-14 22:30:58][org.springframework.boot.test.context.SpringBootTestContextBootstrapper]Found @SpringBootConfiguration com.devchen.crawler.CrawlerApplication for test class com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest
[INFO] [2019-01-14 22:30:58][org.springframework.boot.test.context.SpringBootTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2019-01-14 22:30:58][org.springframework.boot.test.context.SpringBootTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@29ba4338, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@57175e74, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7bb58ca3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@c540f5a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@770c2e6b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a052a00, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4d826d77, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61009542, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77e9807f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@448ff1a8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1a38c59b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7f77e91b]
[INFO] [2019-01-14 22:30:59][org.springframework.context.annotation.AnnotationConfigApplicationContext]Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@434a63ab: startup date [Mon Jan 14 22:30:59 CST 2019]; root of context hierarchy
[INFO] [2019-01-14 22:31:00][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor]JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
[INFO] [2019-01-14 22:31:00][org.hibernate.validator.internal.util.Version]HV000001: Hibernate Validator 5.3.6.Final
[INFO] [2019-01-14 22:31:00][org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker]Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e63d7b64] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO] [2019-01-14 22:31:01][org.springframework.cloud.config.client.ConfigServicePropertySourceLocator]Fetching config from server at: http://localhost:8888
[WARN] [2019-01-14 22:31:01][org.springframework.cloud.config.client.ConfigServicePropertySourceLocator]Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/crawler-app/default": 拒绝连接 (Connection refused); nested exception is java.net.ConnectException: 拒绝连接 (Connection refused)
[INFO] [2019-01-14 22:31:01][com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest]No active profile set, falling back to default profiles: default
[INFO] [2019-01-14 22:31:01][org.springframework.web.context.support.GenericWebApplicationContext]Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2baa8d82: startup date [Mon Jan 14 22:31:01 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@434a63ab
[WARN] [2019-01-14 22:31:02][org.mybatis.spring.mapper.ClassPathMapperScanner]No MyBatis mapper was found in '[com.devchen.crawler]' package. Please check your configuration.
[INFO] [2019-01-14 22:31:03][org.springframework.cloud.context.scope.GenericScope]BeanFactory id=bec9f146-e490-32fc-9746-de96a071ce57
[INFO] [2019-01-14 22:31:03][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor]JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
[INFO] [2019-01-14 22:31:03][org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker]Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e63d7b64] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO] [2019-01-14 22:31:03][org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker]Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ca237867] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[INFO] [2019-01-14 22:31:04][org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler]Initializing ExecutorService  'taskScheduler'
[INFO] [2019-01-14 22:31:06][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@2baa8d82: startup date [Mon Jan 14 22:31:01 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@434a63ab
[INFO] [2019-01-14 22:31:06][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[INFO] [2019-01-14 22:31:06][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[INFO] [2019-01-14 22:31:06][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[INFO] [2019-01-14 22:31:06][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[INFO] [2019-01-14 22:31:06][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[WARN] [2019-01-14 22:31:07][com.netflix.config.sources.URLConfigurationSource]No URLs will be polled as dynamic configuration sources.
[INFO] [2019-01-14 22:31:07][com.netflix.config.sources.URLConfigurationSource]To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
[WARN] [2019-01-14 22:31:07][com.netflix.config.sources.URLConfigurationSource]No URLs will be polled as dynamic configuration sources.
[INFO] [2019-01-14 22:31:07][com.netflix.config.sources.URLConfigurationSource]To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
[INFO] [2019-01-14 22:31:08][org.springframework.context.support.DefaultLifecycleProcessor]Starting beans in phase 0
[INFO] [2019-01-14 22:31:08][org.springframework.context.support.DefaultLifecycleProcessor]Starting beans in phase 2147483647
[INFO] [2019-01-14 22:31:08][com.devchen.crawler.zimuzu.scheduler.ZimuzuServiceTest]Started ZimuzuServiceTest in 9.365 seconds (JVM running for 11.46)
[INFO] [2019-01-14 22:31:08][com.devchen.crawler.zimuzu.service.ZimuzuService]start fetch fav list
[INFO] [2019-01-14 22:31:08][com.devchen.crawler.zimuzu.service.ZimuzuService]{"status":1,"info":"\u767b\u5f55\u6210\u529f\uff01","data":{"url_back":"http:\/\/www.zimuzu.io\/"}}
[INFO] [2019-01-14 22:31:09][com.devchen.crawler.zimuzu.service.ZimuzuService]fetch list: 38
[INFO] [2019-01-14 22:31:09][org.springframework.context.annotation.AnnotationConfigApplicationContext]Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@489f62a3: startup date [Mon Jan 14 22:31:09 CST 2019]; parent: org.springframework.web.context.support.GenericWebApplicationContext@2baa8d82
[INFO] [2019-01-14 22:31:09][org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor]JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
[INFO] [2019-01-14 22:31:09][com.netflix.config.ChainedDynamicProperty]Flipping property: FILE-APP.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
[INFO] [2019-01-14 22:31:09][com.netflix.util.concurrent.ShutdownEnabledTimer]Shutdown hook installed for: NFLoadBalancer-PingTimer-FILE-APP
[INFO] [2019-01-14 22:31:09][com.netflix.loadbalancer.BaseLoadBalancer]Client:FILE-APP instantiated a LoadBalancer:DynamicServerListLoadBalancer:{NFLoadBalancer:name=FILE-APP,current list of Servers=[],Load balancer stats=Zone stats: {},Server stats: []}ServerList:null
[INFO] [2019-01-14 22:31:09][com.netflix.loadbalancer.DynamicServerListLoadBalancer]Using serverListUpdater PollingServerListUpdater
[INFO] [2019-01-14 22:31:09][org.springframework.cloud.netflix.eureka.InstanceInfoFactory]Setting initial instance status as: STARTING
[INFO] [2019-01-14 22:31:09][com.netflix.discovery.provider.DiscoveryJerseyProvider]Using JSON encoding codec LegacyJacksonJson
[INFO] [2019-01-14 22:31:09][com.netflix.discovery.provider.DiscoveryJerseyProvider]Using JSON decoding codec LegacyJacksonJson
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.provider.DiscoveryJerseyProvider]Using XML encoding codec XStreamXml
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.provider.DiscoveryJerseyProvider]Using XML decoding codec XStreamXml
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver]Resolving eureka endpoints via configuration
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.DiscoveryClient]Disable delta property : false
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.DiscoveryClient]Single vip registry refresh property : null
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.DiscoveryClient]Force full registry fetch : false
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.DiscoveryClient]Application is null : false
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.DiscoveryClient]Registered Applications size is zero : true
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.DiscoveryClient]Application version is -1: true
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.DiscoveryClient]Getting all instance registry info from the eureka server
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.DiscoveryClient]The response status is 200
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.DiscoveryClient]Starting heartbeat executor: renew interval is: 30
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.InstanceInfoReplicator]InstanceInfoReplicator onDemand update allowed rate per min is 4
[INFO] [2019-01-14 22:31:10][com.netflix.discovery.DiscoveryClient]Discovery Client initialized at timestamp 1547476270948 with initial instances count: 2
[INFO] [2019-01-14 22:31:11][com.netflix.config.ChainedDynamicProperty]Flipping property: FILE-APP.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
[INFO] [2019-01-14 22:31:11][com.netflix.loadbalancer.DynamicServerListLoadBalancer]DynamicServerListLoadBalancer for client FILE-APP initialized: DynamicServerListLoadBalancer:{NFLoadBalancer:name=FILE-APP,current list of Servers=[192.168.0.106:10401],Load balancer stats=Zone stats: {defaultzone=[Zone:defaultzone;	Instance count:1;	Active connections count: 0;	Circuit breaker tripped count: 0;	Active connections per server: 0.0;]
},Server stats: [[Server:192.168.0.106:10401;	Zone:defaultZone;	Total Requests:0;	Successive connection failure:0;	Total blackout seconds:0;	Last connection made:Thu Jan 01 08:00:00 CST 1970;	First connection made: Thu Jan 01 08:00:00 CST 1970;	Active Connections:0;	total failure count in last (1000) msecs:0;	average resp time:0.0;	90 percentile resp time:0.0;	95 percentile resp time:0.0;	min resp time:0.0;	max resp time:0.0;	stddev resp time:0.0]
]}ServerList:org.springframework.cloud.netflix.ribbon.eureka.DomainExtractingServerList@19924f15
[INFO] [2019-01-14 22:31:11][com.netflix.config.ChainedDynamicProperty]Flipping property: FILE-APP.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
[INFO] [2019-01-14 22:31:13][com.devchen.crawler.zimuzu.service.ZimuzuService]end fetch fav list
[INFO] [2019-01-14 22:31:13][com.netflix.loadbalancer.PollingServerListUpdater]Shutting down the Executor Pool for PollingServerListUpdater
[INFO] [2019-01-14 22:31:13][org.springframework.web.context.support.GenericWebApplicationContext]Closing org.springframework.web.context.support.GenericWebApplicationContext@2baa8d82: startup date [Mon Jan 14 22:31:01 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@434a63ab
[INFO] [2019-01-14 22:31:13][org.springframework.cloud.netflix.eureka.EurekaDiscoveryClientConfiguration]Unregistering application crawler-app with eureka with status DOWN
[WARN] [2019-01-14 22:31:13][com.netflix.discovery.DiscoveryClient]Saw local status change event StatusChangeEvent [timestamp=1547476273631, current=DOWN, previous=STARTING]
[INFO] [2019-01-14 22:31:13][com.netflix.discovery.DiscoveryClient]DiscoveryClient_CRAWLER-APP/10.0.2.15:crawler-app:-1: registering service...
[INFO] [2019-01-14 22:31:13][com.netflix.discovery.DiscoveryClient]Shutting down DiscoveryClient ...
[INFO] [2019-01-14 22:31:13][com.netflix.discovery.DiscoveryClient]Unregistering ...
[INFO] [2019-01-14 22:31:13][com.netflix.discovery.DiscoveryClient]DiscoveryClient_CRAWLER-APP/10.0.2.15:crawler-app:-1 - deregister  status: 404
[INFO] [2019-01-14 22:31:13][com.netflix.discovery.DiscoveryClient]Completed shut down of DiscoveryClient
[INFO] [2019-01-14 22:31:13][org.springframework.context.support.DefaultLifecycleProcessor]Stopping beans in phase 2147483647
[INFO] [2019-01-14 22:31:13][org.springframework.context.support.DefaultLifecycleProcessor]Stopping beans in phase 0
[INFO] [2019-01-14 22:31:13][org.springframework.context.annotation.AnnotationConfigApplicationContext]Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@489f62a3: startup date [Mon Jan 14 22:31:09 CST 2019]; parent: org.springframework.web.context.support.GenericWebApplicationContext@2baa8d82
[INFO] [2019-01-14 22:31:13][org.springframework.cloud.netflix.eureka.EurekaDiscoveryClientConfiguration]Unregistering application crawler-app with eureka with status DOWN
[INFO] [2019-01-14 22:31:13][com.netflix.util.concurrent.ShutdownEnabledTimer]Shutdown hook removed for: NFLoadBalancer-PingTimer-FILE-APP
[INFO] [2019-01-14 22:31:13][com.netflix.util.concurrent.ShutdownEnabledTimer]Exception caught (might be ok if at shutdown)
java.lang.IllegalStateException: Shutdown in progress
	at java.lang.ApplicationShutdownHooks.remove(ApplicationShutdownHooks.java:82)
	at java.lang.Runtime.removeShutdownHook(Runtime.java:239)
	at com.netflix.util.concurrent.ShutdownEnabledTimer.cancel(ShutdownEnabledTimer.java:70)
	at com.netflix.loadbalancer.BaseLoadBalancer.cancelPingTask(BaseLoadBalancer.java:614)
	at com.netflix.loadbalancer.BaseLoadBalancer.shutdown(BaseLoadBalancer.java:886)
	at com.netflix.loadbalancer.DynamicServerListLoadBalancer.shutdown(DynamicServerListLoadBalancer.java:274)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.invokeCustomDestroyMethod(DisposableBeanAdapter.java:364)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:287)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.destroySingletons(FactoryBeanRegistrySupport.java:230)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1032)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1008)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:958)
	at org.springframework.cloud.context.named.NamedContextFactory.destroy(NamedContextFactory.java:70)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:272)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.destroySingletons(FactoryBeanRegistrySupport.java:230)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1032)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1008)
	at org.springframework.context.support.AbstractApplicationContext$2.run(AbstractApplicationContext.java:929)
[INFO] [2019-01-14 22:31:13][org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler]Shutting down ExecutorService 'taskScheduler'
[INFO] [2019-01-14 22:31:13][org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler]Shutting down ExecutorService 'taskScheduler'
